<MainScreen>:
    AppCore:
        canvas.before:
            Color:
                rgba: app.get_background_color()
            Rectangle:
                pos: self.pos
                size: self.size

        ChessBoard:
            id: board
            size: root.width/2, root.width/2
            pos: 0, root.height-root.width/2

        CapturedGrid:
            id: 0
            size: root.width*2/9, root.width*1/9
            pos: 0, root.height-23*root.width/36

        CapturedGrid:
            id: 1
            size: root.width*2/9, root.width*1/9
            pos: root.width*5/18, root.height-23*root.width/36

        Button:
            size: root.width/25, root.width/25
            pos: root.width-root.width/25, root.height-root.width/25
            text: 'H'
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = 'help'


<BoardSquare>:
    on_press: self.parent.space_pressed(self.board_position)
    background_normal: "./images/Light square.jpg"
    background_down: "./images/Light square.jpg"
    canvas.before:
        Color:
            rgba: .5, .5, .5, 1
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height
#    Image:
#        source: "./images/Dark square.jpg"
#        y: self.parent.y + self.parent.height / 4
#        x: self.parent.x + self.parent.width / 4
#        height: self.parent.height / 2
#        width: self.parent.width / 2


<CapturedSquare>:
    background_normal: "./images/Light square.jpg"
    background_down: "./images/Light square.jpg"
    background_color: 0, 0, 0, 0
    canvas.before:
        Color:
            rgba: app.get_background_color()
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height

<PromotionWindow>:
    size_hint: None, None
    size: 400, 400
    auto_dismiss: False
    title: "Promote piece?"

    GridLayout:
        size_hint_y: None
        height: root.height/3
        cols: 2
        pos: 0, 0
        Button:
            text: "Yes"
            on_press: root.child_pressed(1)

        Button:
            text: "No"
            on_press: root.child_pressed(0)

<MateWindow>:
    title: "Checkmate!"


<HelpScreen>:

    BoxLayout:
        orientation: 'vertical'
        size_hint: 1, 1

        HelpRst:
            # background_color: 0, 0, 0, 0
            color: app.get_background_color()
            text: root.text

    Button:
        size: root.width/25, root.width/25
        pos: root.width-root.width/25, root.height-root.width/25
        text: '<-'
        color: 1, 1, 1, 1
        on_press:
            root.manager.transition.direction = 'right'
            root.manager.current = 'main'
